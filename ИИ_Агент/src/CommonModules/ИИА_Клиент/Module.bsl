#Область ПрограммныйИнтерфейс

// Находит или создает диалог текущего пользователя
//
// Возвращаемое значение:
//  СправочникСсылка.ИИА_Диалоги - ссылка на диалог
//
Функция НайтиИлиСоздатьДиалогПользователя() Экспорт
	
	Возврат ИИА_ВызовСервера.НайтиИлиСоздатьДиалогПользователя(ТекущийПользователь());
	
КонецФункции

Функция ТекущийПользователь()
	Возврат "Админ";
КонецФункции

// Загружает сообщения диалога
//
// Параметры:
//  СсылкаДиалога - СправочникСсылка.ИИА_Диалоги - ссылка на диалог
//
// Возвращаемое значение:
//  Массив - массив структур с сообщениями
//
Функция ЗагрузитьСообщенияДиалога(СсылкаДиалога) Экспорт
	
	МассивСообщений = ИИА_ВызовСервера.ПолучитьСообщенияДиалога(СсылкаДиалога, 50);
	
	Возврат МассивСообщений;
	
КонецФункции

// Отправляет сообщение и получает ответ от ИИ
//
// Параметры:
//  СсылкаДиалога - СправочникСсылка.ИИА_Диалоги - ссылка на диалог
//  ТипСообщения - Строка - тип сообщения ("Чат" или "Запрос")
//  Текст - Строка - текст сообщения
//
// Возвращаемое значение:
//  Структура - структура ответа от сервера (содержит Usage и другую информацию)
//
Функция ОтправитьСообщение(СсылкаДиалога, ТипСообщения, Текст) Экспорт
	
	Результат = ИИА_ВызовСервера.ОтправитьСообщениеСервера(СсылкаДиалога, ТипСообщения, Текст);
	
	Возврат Результат;
	
КонецФункции

// Проверяет запрос 1С
//
// Параметры:
//  ТекстЗапроса - Строка - текст запроса
//
// Возвращаемое значение:
//  Структура - структура результата:
//   * Успех - Булево - успешность выполнения
//   * Сообщение - Строка - текст ошибки или пусто
//
Функция ПроверитьЗапрос(ТекстЗапроса) Экспорт
	
	Результат = ИИА_ВызовСервера.ПроверитьЗапрос(ТекстЗапроса);
	
	Возврат Результат;
	
КонецФункции

#КонецОбласти


